"0","library(caret)"
"0",""
"0","set.seed(123)"
"0",""
"0","# Create stratified split indices for cbcl_externalizing"
"0","train_index <- createDataPartition(full_dat$cbcl_externalizing, p = 0.7, list = FALSE)"
"0","train_data <- full_dat[train_index, ]"
"0","remaining_data <- full_dat[-train_index, ]"
"0",""
"0","# Now split the remaining 30% (test + calib) equally (15/15) with stratification again"
"0","test_index <- createDataPartition(remaining_data$cbcl_externalizing, p = 0.5, list = FALSE)"
"0","calib_data <- remaining_data[-test_index, ]"
"0","test_data <- remaining_data[test_index, ]"
"0",""
"0","################# check"
"0",""
"0","cat(""Full dataset:\n"")"
"1","Full dataset:
"
"0","print(table(full_dat$cbcl_externalizing))"
"1","
"
"1","   0 "
"1","   1 "
"1","   2 "
"1","
"
"1","6356 "
"1","  66 "
"1","  38 "
"1","
"
"0","cat(""\nTraining set:\n"")"
"1","
Training set:
"
"0","print(table(train_data$cbcl_externalizing))"
"1","
"
"1","   0 "
"1","   1 "
"1","   2 "
"1","
"
"1","4455 "
"1","  44 "
"1","  23 "
"1","
"
"0","cat(""\nCalibration set:\n"")"
"1","
Calibration set:
"
"0","print(table(calib_data$cbcl_externalizing))"
"1","
"
"1","  0 "
"1","  1 "
"1","  2 "
"1","
"
"1","953 "
"1"," 12 "
"1","  4 "
"1","
"
"0","cat(""\nTest set:\n"")"
"1","
Test set:
"
"0","print(table(test_data$cbcl_externalizing))"
"1","
"
"1","  0 "
"1","  1 "
"1","  2 "
"1","
"
"1","948 "
"1"," 10 "
"1"," 11 "
"1","
"
