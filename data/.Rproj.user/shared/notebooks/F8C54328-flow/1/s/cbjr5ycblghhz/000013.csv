"0","# make two new boolean columns "
"0","medication$uses_antipsychotic <- apply(medication[, med_cols], 1, function(row) {"
"0","  any(sapply(antipsychotics, function(drug) grepl(drug, row, ignore.case = TRUE)))"
"0","})"
"0","medication$uses_antidepressant <- apply(medication[, med_cols], 1, function(row) {"
"0","  any(sapply(antidepressants, function(drug) grepl(drug, row, ignore.case = TRUE)))"
"0","})"
"0",""
"0","#check"
"0","summary(medication$uses_antipsychotic)"
"1","   Mode "
"1","  FALSE "
"1","   TRUE "
"1","
"
"1","logical "
"1","  10866 "
"1","     39 "
"1","
"
"0","summary(medication$uses_antidepressant)"
"1","   Mode "
"1","  FALSE "
"1","   TRUE "
"1","
"
"1","logical "
"1","  10715 "
"1","    190 "
"1","
"
"0","#keep only the boolean columns "
"0","medication <- medication %>%"
"0","  select(src_subject_id, uses_antipsychotic, uses_antidepressant)"
