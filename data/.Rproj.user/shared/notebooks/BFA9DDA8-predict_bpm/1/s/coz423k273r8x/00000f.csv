"0","#results_df <- read.csv(""/Users/maggieheimvik/Desktop/GitHub/masters_thesis/Data/ocd//outputs/models/multiclass_cbcl_bpm/bpm_internal_hyperparameter_tuning_results.csv"")"
"0","#xgboost test matrix "
"0","dcalib <- xgb.DMatrix(data = x_calib, label = y_calib)"
"0",""
"0","#train final best model"
"0","final_model <- xgb.train("
"0","  params = params,"
"0","  data = dtrain,"
"0","  nrounds = best_nrounds,"
"0","  watchlist = list(train = dtrain, eval = dcalib),"
"0","  verbose = 1"
"0",")"
"1","[1]	train-mlogloss:1.019648	eval-mlogloss:1.050085"
"1"," "
"1","
"
"1","[2]	train-mlogloss:0.948006	eval-mlogloss:1.008757"
"1"," "
"1","
"
"1","[3]	train-mlogloss:0.877324	eval-mlogloss:0.958852"
"1"," "
"1","
"
"1","[4]	train-mlogloss:0.817771	eval-mlogloss:0.916784"
"1"," "
"1","
"
"1","[5]	train-mlogloss:0.770752	eval-mlogloss:0.893124"
"1"," "
"1","
"
"1","[6]	train-mlogloss:0.715888	eval-mlogloss:0.856673"
"1"," "
"1","
"
"1","[7]	train-mlogloss:0.677102	eval-mlogloss:0.831159"
"1"," "
"1","
"
"1","[8]	train-mlogloss:0.635020	eval-mlogloss:0.791764"
"1"," "
"1","
"
"1","[9]	train-mlogloss:0.600873	eval-mlogloss:0.765032"
"1"," "
"1","
"
"1","[10]	train-mlogloss:0.567947	eval-mlogloss:0.739859"
"1"," "
"1","
"
"1","[11]	train-mlogloss:0.529475	eval-mlogloss:0.711029"
"1"," "
"1","
"
"1","[12]	train-mlogloss:0.498130	eval-mlogloss:0.684271"
"1"," "
"1","
"
"1","[13]	train-mlogloss:0.470463	eval-mlogloss:0.662432"
"1"," "
"1","
"
"1","[14]	train-mlogloss:0.444955	eval-mlogloss:0.638064"
"1"," "
"1","
"
"1","[15]	train-mlogloss:0.418104	eval-mlogloss:0.614305"
"1"," "
"1","
"
"1","[16]	train-mlogloss:0.395332	eval-mlogloss:0.593889"
"1"," "
"1","
"
"1","[17]	train-mlogloss:0.374600	eval-mlogloss:0.574752"
"1"," "
"1","
"
"1","[18]	train-mlogloss:0.354899	eval-mlogloss:0.560231"
"1"," "
"1","
"
"1","[19]	train-mlogloss:0.334965	eval-mlogloss:0.541877"
"1"," "
"1","
"
"1","[20]	train-mlogloss:0.318891	eval-mlogloss:0.529686"
"1"," "
"1","
"
"1","[21]	train-mlogloss:0.301258	eval-mlogloss:0.514062"
"1"," "
"1","
"
"1","[22]	train-mlogloss:0.286233	eval-mlogloss:0.500694"
"1"," "
"1","
"
"1","[23]	train-mlogloss:0.272388	eval-mlogloss:0.486973"
"1"," "
"1","
"
"1","[24]	train-mlogloss:0.260142	eval-mlogloss:0.474830"
"1"," "
"1","
"
"1","[25]	train-mlogloss:0.247299	eval-mlogloss:0.462419"
"1"," "
"1","
"
"1","[26]	train-mlogloss:0.236442	eval-mlogloss:0.452823"
"1"," "
"1","
"
"1","[27]	train-mlogloss:0.224983	eval-mlogloss:0.443222"
"1"," "
"1","
"
"1","[28]	train-mlogloss:0.213997	eval-mlogloss:0.432408"
"1"," "
"1","
"
"1","[29]	train-mlogloss:0.204804	eval-mlogloss:0.423705"
"1"," "
"1","
"
"1","[30]	train-mlogloss:0.196742	eval-mlogloss:0.416732"
"1"," "
"1","
"
"1","[31]	train-mlogloss:0.188143	eval-mlogloss:0.408107"
"1"," "
"1","
"
"1","[32]	train-mlogloss:0.180369	eval-mlogloss:0.402571"
"1"," "
"1","
"
"1","[33]	train-mlogloss:0.173443	eval-mlogloss:0.395795"
"1"," "
"1","
"
"1","[34]	train-mlogloss:0.166625	eval-mlogloss:0.390526"
"1"," "
"1","
"
"1","[35]	train-mlogloss:0.161039	eval-mlogloss:0.386306"
"1"," "
"1","
"
"1","[36]	train-mlogloss:0.154413	eval-mlogloss:0.380758"
"1"," "
"1","
"
"1","[37]	train-mlogloss:0.149018	eval-mlogloss:0.376272"
"1"," "
"1","
"
"1","[38]	train-mlogloss:0.144342	eval-mlogloss:0.372586"
"1"," "
"1","
"
"1","[39]	train-mlogloss:0.139644	eval-mlogloss:0.368746"
"1"," "
"1","
"
"1","[40]	train-mlogloss:0.135126	eval-mlogloss:0.365258"
"1"," "
"1","
"
"1","[41]	train-mlogloss:0.131115	eval-mlogloss:0.362716"
"1"," "
"1","
"
"1","[42]	train-mlogloss:0.126696	eval-mlogloss:0.358897"
"1"," "
"1","
"
"1","[43]	train-mlogloss:0.121803	eval-mlogloss:0.354166"
"1"," "
"1","
"
"1","[44]	train-mlogloss:0.117351	eval-mlogloss:0.350417"
"1"," "
"1","
"
"1","[45]	train-mlogloss:0.112995	eval-mlogloss:0.346995"
"1"," "
"1","
"
"1","[46]	train-mlogloss:0.109617	eval-mlogloss:0.344379"
"1"," "
"1","
"
"1","[47]	train-mlogloss:0.106343	eval-mlogloss:0.342529"
"1"," "
"1","
"
"1","[48]	train-mlogloss:0.102994	eval-mlogloss:0.340017"
"1"," "
"1","
"
"1","[49]	train-mlogloss:0.099863	eval-mlogloss:0.337122"
"1"," "
"1","
"
"1","[50]	train-mlogloss:0.097609	eval-mlogloss:0.335624"
"1"," "
"1","
"
"0","# ---- Predict probabilities on calibration set ----"
"0","pred_probs <- predict(final_model, dcalib, reshape = TRUE, outputmargin = FALSE)"
"0","colnames(pred_probs) <- class_labels"
"0",""
"0",""
"0","# Get argmax predictions (standard way) thresholds = 0.5"
"0","pred_classes_argmax <- max.col(pred_probs) - 1  # match class labels 0,1,2"
