"0","# Example: assuming you already have a confusion matrix object"
"0","conf_mat_table <- table(y_true_test, y_pred_test)"
"0",""
"0","# Turn it into a data frame"
"0","conf_df <- as.data.frame(conf_mat_table)"
"0","colnames(conf_df) <- c(""True"", ""Predicted"", ""Count"")"
"0",""
"0","# Optional: use human-readable class labels"
"0","class_names <- c(""0"" = ""Healthy"", ""1"" = ""Borderline"", ""2"" = ""Clinical"")"
"0","conf_df$True <- factor(conf_df$True, levels = names(class_names), labels = class_names)"
"0","conf_df$Predicted <- factor(conf_df$Predicted, levels = names(class_names), labels = class_names)"
"0","ggplot(conf_df, aes(x = Predicted, y = True, fill = Count)) +"
"0","  geom_tile(color = ""white"") +"
"0","  geom_text(aes(label = Count), size = 5) +"
"0","  scale_fill_gradient(low = ""white"", high = ""#2E8B57"") +"
"0","  labs("
"0","    title = ""Confusion Matrix (Test Set)"","
"0","    x = ""Predicted Class"","
"0","    y = ""True Class"","
"0","    fill = ""Count"""
"0","  ) +"
"0","  theme_minimal(base_size = 14) +"
"0","  theme("
"0","    plot.title = element_text(face = ""bold"", hjust = 0.5),"
"0","    axis.text = element_text(size = 12),"
"0","    axis.title = element_text(size = 13)"
"0","  )"
